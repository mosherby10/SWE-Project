{% extends "base.html" %}

{% block content %}
<h2>Admin â€“ Games</h2>

<a class="btn btn-success mb-3" href="{{ url_for('admin_add_game') }}">Add new game</a>

<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Genre</th>
      <th>Price</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
  {% for game in games %}
    <tr>
      <td>{{ game.id }}</td>
      <td>{{ game.title }}</td>
      <td>{{ game.genre }}</td>
      <td>${{ "%.2f"|format(game.price) }}</td>
      <td>
        <a class="btn btn-sm btn-outline-primary" href="{{ url_for('admin_edit_game', game_id=game.id) }}">Edit</a>
        <form method="post" action="{{ url_for('admin_delete_game', game_id=game.id) }}" style="display:inline;">
          <button class="btn btn-sm btn-outline-danger" type="submit"
                  onclick="return confirm('Delete this game?')">
            Delete
          </button>
        </form>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}
